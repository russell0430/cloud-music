## question1

`axios `ä½¿ç”¨æ‹¦æˆªå™¨åï¼Œ`typescript `ä¸èƒ½æ­£ç¡®è¯†åˆ«è¿”å›çš„`data` çš„ç±»å‹\
å¯èƒ½å› ä¸ºæ‹¦æˆªå™¨ä¸å¤ªå¥½åˆ†æ

```typescript
// request.ts
interface BaseResponse {
  code: number
}
interface BannerResponse {
  banners: BannerType[]
}

export const getBannerRequest = () => {
  return axiosInstance.get<string, BannerResponse & BaseResponse>("/banner")
}
```

```typescript
// useRecommend.ts
getBannerRequest().then((data) => {
  console.log(data.banners)
  // è¿™è¡Œä¸æŠ¥é”™äº†
  setBannerList(data.banners)
})
```

## question2

åœ¨ä½¿ç”¨ `react-lazyload` æ—¶ï¼Œå‘ç° `react-lazyload` ä¸èƒ½å¤Ÿå¾ˆå¥½çš„æ”¯æŒå½“å‰ç‰ˆæœ¬çš„`react@18.2`\
æŠ¥é”™éœ€è¦åº“`prop-types`
ç»è¿‡`github`æŸ¥æ‰¾åå‘ç° [issue](https://github.com/twobin/react-lazyload/issues/347)\
åº”è¯¥æ˜¯åœ¨ `react@17` åï¼Œä¸Šè¿°åº“çš„ä¾èµ–è¢«ç§»é™¤ï¼Œä½†æ˜¯è¿™ä¸ªåº“è¿˜æ˜¯ä¾èµ–ï¼Œå¹¶ä¸”ä¾èµ–æ ‡è®°æˆäº†å¼€å‘ä¾èµ–ï¼Œæ‰€ä»¥å°±å¯„äº†\
è™½ç„¶å¯èƒ½æˆ‘è‡ªå·±å®‰è£…ä¸€ä¸ªä¾èµ–å°±å¯ä»¥è·‘èµ·æ¥äº†ï¼Œä½†è¿˜æ˜¯å…ˆæš‚æ—¶ä¸ç”¨è¿™ä¸ªåº“äº†ã€‚\
åç»­å¯èƒ½æœ‰ç©ºè‡ªå·±å®ç°ä¸€ä¸ªçœ‹ã€‚\
ï¼ˆå¤§æ¦‚ç‡æ²¡æœ‰ï¼Œå¯¼å¸ˆç»™çš„ ğŸ æ»¡æ»¡ï¼Œä½†æˆ‘è¿˜æ˜¯å–œæ¬¢å†™å‰ç«¯ï¼‰

### åç»­

çœ‹åˆ°è¯„è®ºé‡Œæœ‰ä¸€ä¸ª[pr](https://github.com/twobin/react-lazyload/pull/387/files#diff-51e4f558fae534656963876761c95b83b6ef5da5103c4adef6768219ed76c2de),å¯èƒ½æœ‰ç”¨.

## question3

ä½¿ç”¨`recommend`æ—¶ï¼ŒåŸé¡¹ç›®ä½¿ç”¨`redux`æ¥å­˜å‚¨`recommend`ä»¥åŠ`bannerList` é‡Œé¢çš„`imgUrl`,\
è¿™é‡Œç”±äºæ˜¯ä½¿ç”¨`hook`ä¸èƒ½æœ‰å‰¯ä½œç”¨ä¾èµ–,æ‰€ä»¥å°±æ¯æ¬¡è½¬æ¢è·¯ç”±éƒ½è¯·æ±‚ä¸€æ¬¡.\
è¿˜æ˜¯æœ‰ç‚¹å°ç–‘é—®,å°±ç®—æ˜¯ä½¿ç”¨`redux`å­˜å‚¨äº†å…¨å±€å˜é‡,ä¹Ÿåªæ˜¯å­˜ç›¸å…³çš„`url`.\
ä¸ºä»€ä¹ˆåŸæ–‡è¯´è¿™æ ·å°±å¯ä»¥åœ¨åˆ‡æ¢é¡µé¢(`/recommend` -> `/singers`)æ—¶ä¸è¿›è¡Œç½‘ç»œè¯·æ±‚.\
å­˜çš„åˆä¸æ˜¯å›¾ç‰‡ç¼“å­˜å•Š?\
è¿™é‡Œåšçš„åˆä¸æ˜¯`vue`ä¸­çš„`keep-alive`

## question4

åœ¨`recommend`ç•Œé¢,`Bscroll` è¦†ç›–çš„åŒºåŸŸ,åˆæ¬¡åŠ è½½æ—¶æ— æ³•æ»‘åŠ¨,åªæœ‰è°ƒæ•´è¿‡é¡µé¢å¤§å°åæ‰å¯ä»¥æ»‘åŠ¨.\
ç»è¿‡æŸ¥é˜…èµ„æ–™å,å¯èƒ½æ˜¯åˆ—è¡¨å›¾ç‰‡æœªåŠ è½½å‡ºæ¥çš„æ—¶å€™å°±è®¡ç®—äº†é«˜åº¦,å¯¼è‡´é«˜åº¦å¡Œé™·,\
æœ€ç»ˆ `BScroll` ä»¥ä¸ºåˆ—è¡¨æ²¡æœ‰å¤šé•¿,ä½†æ˜¯å›¾ç‰‡åŠ è½½åå¾ˆé•¿.\

### æ€è€ƒ

ä¸ºä»€ä¹ˆ`Singers` é¡µé¢çš„æ¨ªå‘æ»‘åŠ¨æ²¡æœ‰æ­¤ç°è±¡,é™¤äº†é¡µé¢ä½¿ç”¨`useEffect`è¿›è¡ŒåŠ è½½åçš„å¤„ç†(çœ‹ä¼¼æ˜¯åŸå› ,å…¶å®åº”è¯¥ä¸æ˜¯),\
æ»šåŠ¨çš„å…ƒç´ æ˜¯é¡µé¢ä¸Šçš„`span`,æœ¬æ¥å°±è¦å ä½.

### åæ§½

`BScroll`ç”¨èµ·æ¥å¥½éš¾å—,`typescript` æ²¡æœ‰æ¼”ç¤ºä¹Ÿå°±ç½¢äº†,è¿”å›çš„` BScroll` æ²¡æœ‰ç±»å‹å£°æ˜,`new`å‡ºæ¥çš„å®ä¾‹ä¹Ÿä¸çŸ¥é“æ˜¯ä¸ªå•¥,æ‰“å°å‡ºæ¥æ˜¯ä¸ª`native`å‡½æ•°???è¿·æƒ‘è¡Œä¸º!ä¸€å¤œå›åˆ°`javascript`çš„çŒœç¯èŠ‚

## question5

å…³äº`typescript`çš„ç±»å‹é—®é¢˜\
å¯¹äºä¸€ä¸ªéå‰ç«¯çš„`typescrip`é¡¹ç›®,ç±»å‹ä¸€èˆ¬å†™åœ¨`types.ts`é‡Œ,ä½†æ˜¯å‰ç«¯é¡¹ç›®æˆ‘å°±æœ‰ç‚¹è¿·æƒ‘äº†.\
ç…§ç†è¯´,ç½‘ç»œä¸Šä¼ çš„æ•°æ®éƒ½æ˜¯ç½‘ç»œè¯·æ±‚æ¥çš„.é‚£æœ€åˆæ•°æ®éƒ½æ˜¯åœ¨è¯·æ±‚æ–‡ä»¶é‡Œ,ä½†æ˜¯ç»„ä»¶å†…éƒ¨ä¹Ÿéœ€è¦ç±»å‹,å¦‚æœç»„ä»¶ä»ç½‘ç»œè¯·æ±‚æ–‡ä»¶ä¸­`import`,æ„Ÿè§‰æœ‰ç‚¹æ€ª.å¦‚æœåœ¨ç»„ä»¶æ–‡ä»¶å¤¹å•ç‹¬å†™ä¸€ä¸ª,å°±æ„Ÿè§‰æœ‰ç‚¹ä¹±ä¸”å¤æ‚(`import`åˆ°å¤„é£).æ¯”è¾ƒå¥½ä¸€ç‚¹çš„æ–¹æ³•å¯èƒ½æ˜¯ä½¿ç”¨`declare.d.ts`å…¨å±€å£°æ˜.

---

åç»­\
åæ¥åœ¨è¯·æ±‚çš„`api`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„`types.ts` ç®¡ç†`api`å†…ç›¸å…³çš„ç±»å‹,å…¶ä»–ç±»å‹,å¦‚`singer`,`song`ç­‰,æ”¾åˆ°`global.d.ts`å…¨å±€å£°æ˜



## Bug

### 1

`recommend` é¡µé¢æ²¡æœ‰åŠæ³•åœ¨é¦–æ¬¡åŠ è½½åè¿›è¡Œæ»šåŠ¨

#### solution

åœ¨ `scroll `ç»„ä»¶æŒ‚è½½åå‡ºå‘ `resize `äº‹ä»¶,ä½¿`BScroll`ç›‘å¬åˆ°å¹¶ä¸”é‡æ–°è®¡ç®—

```typescript
// scroll/index.tsx

// åŠ è½½åè§¦å‘resizeäº‹ä»¶
// é˜²æ­¢é¦–æ¬¡åŠ è½½ä¸èƒ½æ»šåŠ¨
useEffect(() => {
  window.dispatchEvent(new Event("resize"))
}, [])
```

## å­¦åˆ°äº†

### 1

```JavaScript

import React, { useState, useEffect } from 'react';
const useCustomHook = (a, b) => {
  useEffect(() => {
    console.log("useEffect work",a,b)
  }, [a, b])
}
export function App(props) {
  const [a,setA]=useState(0)
  const [b,setB]=useState(100)
  useEffect(()=>{
    setTimeout(()=>{
      setA(10)
      setB(20)
    },1000)
  },[])
  useCustomHook(a,b)
  return (
    <div className='App'>
      <h1>Hello React.</h1>
      <h2>Start editing to see some magic happen!</h2>
    </div>
  );
}

// Log to console
console.log('Hello console')

```

ä¹‹å‰ä¸€ç›´æœ‰ä¸ªç–‘é—®,`useCustomHook`é‡Œé¢çš„`useEffect`ä¼šæ›´æ–°å˜›?\
ç»è¿‡å°è¯•,å¯ä»¥!\
[link](https://playcode.io/1039532)\

è¿™é‡Œ`useCustomHook`æ²¡æœ‰è‡ªå·±å†…éƒ¨çŠ¶æ€(`state`),ä½†æ˜¯ä¾æ—§å¯ä»¥è¯´ä½¿ç”¨å¤–éƒ¨çŠ¶æ€è°ƒç”¨`useEffect`.

1. `useEffect`æ˜¯é€šè¿‡æœ€åçš„ä¾èµ–æ•°ç»„çš„æ¯”è¾ƒæ¥å†³å®šæ˜¯å¦æ‰§è¡Œç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°,åŸºç¡€ç±»å‹å°±æ¯”è¾ƒå€¼,å¼•ç”¨ç±»å‹å°±æ¯”è¾ƒåœ°å€,è¿™é‡Œæ˜¯åŸºç¡€ç±»å‹,æ‰€ä»¥æ¯”è¾ƒå€¼.
2. è¿™é‡Œåƒæ˜¯ä¸€ä¸ªä¹‹å‰çš„ react çš„`PureComponent`

ç»„ä»¶æ›´æ–°çš„è¿‡ç¨‹æ˜¯

1. è®¡æ—¶å™¨è°ƒç”¨å¼€å§‹å®ä»»åŠ¡,æ›´æ–°å˜é‡`a`,`b`.(è¿™é‡Œå¥½åƒä¸æ˜¯æ‰¹é‡æ›´æ–°,å› ä¸ºæ˜¯å®ä»»åŠ¡è€Œä¸æ˜¯ç»„ä»¶å†…éƒ¨è°ƒç”¨)
2. å› ä¸º`a`,`b`ç›¸å…³çš„`useState`æ˜¯åœ¨`App`ç»„ä»¶å†…è°ƒç”¨çš„,æ‰€ä»¥æ•´ä¸ª`App`ç»„ä»¶é‡æ–°æ‰§è¡Œ.
3. App å†…éƒ¨çš„`useEffect`ä¾èµ–æ•°ç»„ä¸ºç©º,è·³è¿‡.
4. `useCustomHook`é‡æ–°æ‰§è¡Œ,å‘ç°ä¼ è¿›æ¥çš„`a`,`b`æ›´æ–°äº†,é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°.

ä¸Šè¿°å†…å®¹æ˜¯æˆ‘åœ¨åš`SingerList`æƒ³èµ·çš„,æˆ‘æƒ³ä½¿ç”¨`customHook`,ä½†å¯¹äº customHo ä¼ å…¥å‚æ•°å˜åŒ–æ˜¯å¦å¼•èµ·å†…éƒ¨`useEffect`è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æœ‰ç‚¹æ‹…å¿ƒ,ç°åœ¨æ¸…æ¥šäº†~

åœ¨å†™ä¸Šè¿°ä»£ç æ—¶,æˆ‘åˆæœ‰ä¸€ä¸ªè®¾è®¡ä¸Šçš„é—®é¢˜\
åœ¨æœ‰ä¸€ä¸ª`customHook`é‡Œ,æˆ‘æ˜¯éœ€è¦å°†`state`æ˜¾å¼æ›´æ”¹è¿˜æ˜¯éšå¼æ›´æ”¹.å¦‚

```typescript
// æ˜¾å¼

const useCustomHook = (a, b) => {
  const [aa, setAa] = React.useState(a)
  const [bb, setBb] = React.useState(b)
  React.useEffect(() => {
    console.log("a or b updated!")
  }, [aa, bb])
  return {
    aa,
    bb,
    setAa,
    setBb,
  }
}
// éšå¼

const useCustomHook = (a, b) => {
  React.useEffect(() => {
    console.log("a or b updated!")
  }, [a, b])
  return { a, b }
}
```

æ˜¾å¼å¯ä»¥ä½¿ç”¨æ‰‹åŠ¨æ›´æ–°`setAa`,`setBb`\
éšå¼æ ¹æ®è¾“å…¥çš„å€¼è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°,ä½†æ˜¯è¿™ç§æ–¹å¼å¥½åƒæœ‰ç‚¹å¥‡æ€ª,è¿™ä¹Ÿæ˜¯æˆ‘ä¹‹å‰ä½¿ç”¨çš„æ–¹æ³•\
ä»”ç»†æ€è€ƒ`React.useState`çš„ä½¿ç”¨,ä¼¼ä¹ä¹Ÿæ˜¯è¿™ç§æ˜¾å¼,åªæ˜¯åˆå§‹åŒ–çš„æ—¶å€™ä¾èµ–è¾“å…¥çš„å€¼\

### 2

å¦‚æœç»„ä»¶æœ‰æ—¶å‡ºç°æœ‰æ—¶æ²¡æœ‰,é‚£ä¹ˆç»„ä»¶ä¸­`useState`ä¸­çš„æ•°æ®ä¼šä¿å­˜å˜›,è¿™ä¸ªå¯ä»¥æœ‰ä¸¤ç§æƒ…å†µ

1. è·¯ç”±çŠ¶æ€æ›´æ–°
2. ç»„ä»¶åªæ˜¯æœ‰æ—¶åŠ è½½æœ‰æ—¶æœªåŠ è½½,å¦‚ä¸‹é¢

```typescript
const Com=()=>{
  const [a,setA]=useState(1)
  useEffect(()=>{
    setTimeout(()=>{
      setA(2)
    },1000)
  },[])
  return <div>a<div>
}

const App=()=>{
  const [show,setShow]=useState(false)
  return <div>
  {
    isShow?<Com/>:null
  }
  <div>
}
```

è®²åˆ°è¿™é‡Œ,æƒ³èµ·ä¹‹å‰å­¦ä¹ `hook`çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹\
ä½¿ç”¨`hook`ä¸èƒ½ç”¨åˆ¤æ–­è¯­å¥,è¦æ˜¯é‡åˆ°éœ€è¦åˆ¤æ–­å¯ä»¥æ‹†æˆä¸€ä¸ªç»„ä»¶æ¥\

### 3

çœ‹åˆ°å†Œå­çš„ 13 ç« çš„æ ‡é¢˜ä½¿ç”¨`hooks`å®ç°`redux`,è®©æˆ‘æƒ³èµ·ä¹‹å‰çœ‹çš„`KBar`ä»¥åŠ`react-hot-toast`æºç .ä¹Ÿéƒ½æ˜¯é€šè¿‡`hooks`å®ç°çš„.

#### KBar æ€è·¯

ä½¿ç”¨`useRef`ä½œä¸ºä¸€ä¸ªå­˜å‚¨çš„å®¹å™¨,ç›¸å½“äºä¸€ä¸ªå…¨å±€çš„å˜é‡.ä¹‹åç”¨`useState`ä¸­è¿”å›çš„`setState`å‡½æ•°æ¥è¿›è¡Œæ•°æ®çš„æ›´æ–°,`setState`å˜æˆä¸€ä¸ªå‘é€"æ•°æ®æ›´æ–°äº†,ä»¥æ¥çš„è§†å›¾æ¥é‡æ–°æ¸²æŸ“"çš„ä¿¡å·.å†ä½¿ç”¨ useContext è¿›è¡ŒåŒ…è£….åŒ…è£…æˆä¸€ä¸ª`customHook`,æ¯æ¬¡è°ƒç”¨éƒ½å¯ä»¥è·å¾—æœ€æ–°çš„æ•°æ®,å½“ç„¶,ä¸ºäº†ä¿è¯æ•°æ®æœ€æ–°,å®ƒçš„æ•°æ®è·å–ä½¿ç”¨`const getState=()=>ref`,è·å¾—æŒ‡é’ˆ.

```typescript
const
```

### 4

å¤šç§ä½¿ç”¨åŠ¨ç”»çš„æ–¹å¼
1. `npm`åº“ `create-keyframe-animation`
2. `npm`åº“`react-transition-group`é…åˆ`css`


### 5

ä½¿ç”¨`svg`
